{"version":3,"sources":["../../src/pages/template/template.module.ts","../../src/app/models/alternative-model.ts","../../src/pages/template/template.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TemplatePage } from './template';\n\n@NgModule({\n  declarations: [\n    TemplatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TemplatePage),\n  ],\n  exports: [\n    TemplatePage\n  ]\n})\nexport class TemplatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/template.module.ts","export class AlternativeModel {\n\n\tconstructor(public activity: any, public items: any[], public num:number, public comments: string[]) {\n\t\tthis.num = 0;\n\t}\n\n\taddItem(item) {\n\t\tthis.items.push(item);\n\t\tthis.num++;\n\t}\n\n\taddComment(comment) {\n\t\tthis.comments.push(comment);\n\t}\n\n\tdeleteComment(comment) {\n    let index = this.comments.indexOf(comment);\n \n      if(index > -1){\n        this.comments.splice(index, 1);\n      }\n  }\n\t\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/alternative-model.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, PopoverController } from 'ionic-angular';\nimport { PlansProvider } from '../../providers/plans/plans';\nimport { Storage } from '@ionic/storage';\nimport { LoginPage } from '../login/login';\nimport { SignupPage } from '../signup/signup';\nimport { InvitePage } from '../invite/invite';\nimport { HomePage } from '../home/home';\nimport { PopoverPage } from '../popover/popover';\nimport { ActivityPage } from '../activity/activity';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { AlternativesPage } from '../alternatives/alternatives';\nimport { ActivityProvider } from '../../providers/activity/activity';\nimport { AlternativeModel } from '../../app/models/alternative-model';\n\n/**\n * Generated class for the TemplatePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage({\n  name: 'template'\n})\n@Component({\n  selector: 'page-template',\n  templateUrl: 'template.html',\n})\nexport class TemplatePage {\n  plan: any = this.navParams.data;\n  user: object;\n  plansID: string;\n  activities: any[];\n  comment: string = '';\n  comments: any[] = [];\n  day: number = this.navParams.data;\n  constructor(public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, \n    public viewCtrl: ViewController, public activityService: ActivityProvider,\n    public storage: Storage,public planService: PlansProvider,\n    public authService: AuthProvider) {\n    this.storage.get('currUser').then(data => {\n        // console.log(data);\n        this.user = data; \n      });\n  }\n\n  ngOnInit() {\n    console.log(this.navParams.data);\n    this.authService.getUser(this.navParams.get('id')).subscribe(data => {\n        console.log(data.plans[data.plans.length-1]);\n        this.plansID = data.plans[data.plans.length-1];\n        console.log(this.plansID);\n        this.planService.getPlan(this.plansID).subscribe(data => {\n          \n          this.plan = data\n          this.activities = data.activities;\n          console.log(this.plan);\n          console.log(this.plan.days, this.plan.month, this.plan.country);\n          \n\n        });\n        // this.activityService.getActivity(this.plansID).subscribe(data => {\n        //   this.activities = data;\n        // });\n      });\n  }\n\n  delete(chip, index) {\n    this.activities[index].deleteComment(chip);\n  }\n\n  addComment(formValue, index) {\n\n    this.activities[index].addComment(formValue);\n    this.comment = ''\n  }\n\n  launchActivityPage() {\n\n  \tlet modal = this.modalCtrl.create(ActivityPage);\n\n  \tmodal.onDidDismiss(activity => {\n      if(activity){\n        //console.log(activity)\n        let currActivity = new AlternativeModel(activity, [], 0, []);\n        this.activities.push(currActivity);\n        //console.log(currActivity);\n        //console.log(this.activities);\n        this.activityService.createActivity(activity, this.plansID);        \n      }\n    });\n\n  \tmodal.present();\n  }\n\n  launchAnotherPage(index) {\n\n    let modal = this.modalCtrl.create(ActivityPage);\n\n    modal.onDidDismiss(activity => {\n      if(activity){\n        this.activities[index].addItem(activity);\n        console.log(this.activities[index]);\n        this.activityService.createActivity(activity, this.plansID);      \n      }\n    });\n\n    modal.present();\n  }\n\n  launchAlternativesPage(index) {\n\n    let modal = this.modalCtrl.create(AlternativesPage, this.activities[index]);\n\n    modal.present();\n  }\n\n  deleteActivity(activity){\n \n    //Remove locally\n      let index = this.activities.indexOf(activity);\n \n      if(index > -1){\n        this.activities.splice(index, 1);\n      }   \n \n    //Remove from database\n    this.activityService.deleteActivity(activity._id);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/template.ts"],"sourceRoot":""}