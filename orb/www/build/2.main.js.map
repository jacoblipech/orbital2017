{"version":3,"sources":["../../src/pages/temp/temp.module.ts","../../src/pages/temp/temp.ts","../../src/app/models/alternative-model.ts"],"names":[],"mappings":"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","file":"2.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TempPage } from './temp';\n\n@NgModule({\n  declarations: [\n    TempPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TempPage),\n  ],\n  exports: [\n    TempPage\n  ]\n})\nexport class TempPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/temp/temp.module.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, PopoverController } from 'ionic-angular';\nimport { PlansProvider } from '../../providers/plans/plans';\nimport { Storage } from '@ionic/storage';\nimport { LoginPage } from '../login/login';\nimport { SignupPage } from '../signup/signup';\nimport { InvitePage } from '../invite/invite';\nimport { HomePage } from '../home/home';\nimport { PopoverPage } from '../popover/popover';\nimport { TemplatePage } from '../template/template';\nimport { ActivityPage } from '../activity/activity';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { AlternativesPage } from '../alternatives/alternatives';\nimport { ActivityProvider } from '../../providers/activity/activity';\nimport { AlternativeModel } from '../../app/models/alternative-model';\n\n@IonicPage({\n\tname: 'temp'\n})\n@Component({\n  selector: 'page-temp',\n  templateUrl: 'temp.html',\n})\nexport class TempPage {\n  plan: any = this.navParams.data;\n  user: object;\n  plansID: string;\n  activities: any[] = [];\n  comment: string = '';\n  comments: any[] = [];\n  counter: number = 1;\n  constructor(public navCtrl: NavController, \n  \tpublic navParams: NavParams, \n  \tpublic modalCtrl: ModalController, \n  \tpublic viewCtrl: ViewController, \n  \tpublic planService: PlansProvider,\n  \tpublic popoverCtrl: PopoverController, \n    public authService: AuthProvider,\n    public storage: Storage, public activityService: ActivityProvider) \n\n  {\n  \tthis.storage.get('currUser').then(data => {\n        // console.log(data);\n        this.user = data; \n      });\n\n  }\n\n\n\n  ngOnInit() {\n    \n  \t//this.authService.getUser(this.navParams.get('id'));\n  }\n  ionViewDidLoad() {\n  \tconsole.log(\"HELLLO\")\n    this.authService.getUser(this.navParams.get('id')).subscribe(data => {\n        console.log(data.plans[data.plans.length-1]);\n        this.plansID = data.plans[data.plans.length-1];\n        console.log(this.plansID);\n        this.planService.getPlan(this.plansID).subscribe(data => {\n          \n          this.plan = data\n          console.log(this.plan);\n          console.log(this.plan.days, this.plan.month, this.plan.country);\n          \n\n        });\n      });\n  }\n  goToHome() {\n    let opts = { animate: true, animation: \"transition\", direction: 'forward' ,duration: 1000}\n    this.navCtrl.setRoot('welcome', true, opts);\n    this.navCtrl.popToRoot();\n  }\n  next() {\n   this.counter++;\n   if (this.counter <= this.plan.days.length) {\n     this.navCtrl.push('temp', this.plan);\n   }\n  }\n\n  back() {\n  \tthis.navCtrl.pop();\n  }\n  delete(chip, index) {\n    this.activities[index].deleteComment(chip);\n  }\n\n  addComment(formValue, index) {\n\n    this.activities[index].addComment(formValue);\n    this.comment = ''\n  }\n\n  launchActivityPage() {\n\n  \tlet modal = this.modalCtrl.create(ActivityPage);\n\n  \tmodal.onDidDismiss(activity => {\n      if(activity){\n        //console.log(activity)\n        let currActivity = new AlternativeModel(activity, [], 0, []);\n        this.activities.push(currActivity);\n        //console.log(currActivity);\n        //console.log(this.activities);\n        this.activityService.createActivity(activity);        \n      }\n    });\n\n  \tmodal.present();\n  }\n\n  launchAnotherPage(index) {\n\n    let modal = this.modalCtrl.create(ActivityPage);\n\n    modal.onDidDismiss(activity => {\n      if(activity){\n        this.activities[index].addItem(activity);\n        console.log(this.activities[index]);\n        this.activityService.createActivity(activity);      \n      }\n    });\n\n    modal.present();\n  }\n\n  launchAlternativesPage(index) {\n\n    let modal = this.modalCtrl.create(AlternativesPage, this.activities[index]);\n\n    modal.present();\n  }\n\n  deleteActivity(activity){\n \n    //Remove locally\n      let index = this.activities.indexOf(activity);\n \n      if(index > -1){\n        this.activities.splice(index, 1);\n      }   \n \n    //Remove from database\n    this.activityService.deleteActivity(activity._id);\n  }\n\n  presentPopover(myEvent) {\n    let popover = this.popoverCtrl.create(PopoverPage);\n    popover.present({\n      ev: myEvent\n    });\n  }\n\n  logout() {\n    // console.log(this.user);\n    this.authService.logout();\n    this.user = null;\n    this.navCtrl.setRoot('welcome', false);\n    this.navCtrl.popToRoot();\n    // console.log(this.user);\n  }\n\n\n  launchInvitePage() {\n    let modal = this.modalCtrl.create(InvitePage);\n    modal.present();\n  }\n\n  launchLoginPage() {\n    let modal = this.modalCtrl.create(LoginPage);\n    modal.onDidDismiss(data => {\n        \n        if (data) {\n          this.user = data;\n          //this.logged = true;\n          this.storage.set('currUser', data);\n        } else {\n          //this.logged = false;\n        }\n    });\n    modal.present();\n  }\n\n  launchSignupPage() {\n    let modal = this.modalCtrl.create(SignupPage);\n    modal.onDidDismiss(data => {\n        \n        if (data) {\n          this.user = data;\n          //this.logged = true;\n          this.storage.set('currUser', data);\n        } else {\n          //this.logged = false;\n        }\n        // console.log(data);\n    });\n    modal.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/temp/temp.ts","export class AlternativeModel {\n\n\tconstructor(public activity: any, public items: any[], public num:number, public comments: string[]) {\n\t\tthis.num = 0;\n\t}\n\n\taddItem(item) {\n\t\tthis.items.push(item);\n\t\tthis.num++;\n\t}\n\n\taddComment(comment) {\n\t\tthis.comments.push(comment);\n\t}\n\n\tdeleteComment(comment) {\n    let index = this.comments.indexOf(comment);\n \n      if(index > -1){\n        this.comments.splice(index, 1);\n      }\n  }\n\t\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/models/alternative-model.ts"],"sourceRoot":""}